(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2e7a0bc3"],{"2e72":function(t,e,n){"use strict";n("31fc")},"31fc":function(t,e,n){},"4cbf":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"component-root",attrs:{id:"ship-home-component-content"}},[n("div",{staticClass:"content"},[n("div",{staticClass:"row"},[n("box-filters",{scopedSlots:t._u([{key:"fields",fn:function(){return[n("div",{staticClass:"search-section"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.name,expression:"filters.name"}],ref:"text",attrs:{type:"text",placeholder:"Filtro por nome"},domProps:{value:t.filters.name},on:{input:function(e){e.target.composing||t.$set(t.filters,"name",e.target.value)}}}),n("label",{staticClass:"label-search",attrs:{for:"search"}},[n("i",{staticClass:"fas fa-search"})])]),n("div",{staticClass:"actions"},[n("button",{staticClass:"btn-custom primary",on:{click:t.search}},[t._v("\n\t\t\t\t\t\t\tBUSCAR\n\t\t\t\t\t\t")]),n("button",{staticClass:"btn-custom main-action",on:{click:function(){return t.$router.push({name:"shipCreate"})}}},[t._v("\n\t\t\t\t\t\t\tNOVO\n\t\t\t\t\t\t")])])]},proxy:!0}])})],1),n("div",{staticClass:"row"},[n("generic-table",{attrs:{headers:t.headers,"load-data":function(){},query:t.$route.query,"total-itens":t.totalShips,visible:!!t.ships.length,pagination:!1,pageSize:12},on:{"generic-table-paginate":function(e){return t.changedPage(e)}},scopedSlots:t._u([{key:"rows",fn:function(){return t._l(t.ships,(function(e,r){return n("tr",{key:r},[t._l(t.filteredCells(e),(function(r,i){return n("td",{key:i},["name"===r||"callsign"===r||"constructionyear"===r||"registrationnumber"===r?n("span",[n("label",[t._v(t._s(t.headers[i])+":")]),t._v("\n\t\t\t\t\t\t\t\t"+t._s(e[r])+"\n\t\t\t\t\t\t\t")]):t._e()])})),n("td",{staticClass:"actions"},[n("div",{staticClass:"actions-container"},[n("item-edit",{attrs:{"router-name":"shipEdit",params:{id:e.cbesid},query:{}}}),n("item-remove",{attrs:{text:t.exclusionText(e),"on-click":function(){return t.inactive(e)}}})],1)])],2)}))},proxy:!0}])})],1)])])},i=[],a=n("a34a"),s=n.n(a),o=n("2f62"),c=n("5ff3"),u=n("96a7"),l=n("93bc"),f=n("8612"),p=n("defe"),d=n("bba1");function h(t,e,n,r,i,a,s){try{var o=t[a](s),c=o.value}catch(u){return void n(u)}o.done?e(c):Promise.resolve(c).then(r,i)}function m(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function s(t){h(a,r,i,s,o,"next",t)}function o(t){h(a,r,i,s,o,"throw",t)}s(void 0)}))}}function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function b(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach((function(e){y(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var g={name:"ShipHome",components:{BoxFilters:l["a"],GenericTable:f["a"],ItemEdit:p["a"],ItemRemove:d["a"]},mixins:[c["a"],u["a"]],data:function(){return{headers:["Nome","Ano de construção","Callsign","Nº de registro","Ações"],filters:{active:1,name:void 0},requestParams:{page:1,sorter:"name",direction:"asc"}}},computed:b({},Object(o["d"])({totalShips:function(t){return t.ships.total},ships:function(t){return t.ships.ships}})),mounted:function(){this.loadShipsByField_()},methods:b(b({},Object(o["b"])(["loadShipsByField","loadShips","inactiveShip"])),{},{search:function(){var t=this;return m(s.a.mark((function e(){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.loadShipsByField_();case 2:t.$refs["text"].value="";case 3:case"end":return e.stop()}}),e)})))()},filteredCells:function(t){var e=["name","callsign","constructionyear","registrationnumber"],n=Object.keys(t),r=n.filter((function(t){return e.includes(t)}));return r},inactive:function(t){var e=this;return m(s.a.mark((function n(){var r;return s.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.inactiveShip(t.id);case 2:r=n.sent,e.apiResponseNotification(200,r);case 4:case"end":return n.stop()}}),n)})))()},changedPage:function(t){var e=this;return m(s.a.mark((function n(){return s.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.requestParams.page=t,n.next=3,e.loadShipsByField_();case 3:case"end":return n.stop()}}),n)})))()},exclusionText:function(t){return"Confirma a exclusão da embarcação ".concat(t.name||"","?")},loadShipsByField_:function(){var t=this;return m(s.a.mark((function e(){var n;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=b(b({},t.filters),t.requestParams),e.next=3,t.loadShipsByField(t.sanatize(n));case 3:case"end":return e.stop()}}),e)})))()}})},w=g,x=(n("2e72"),n("2877")),O=Object(x["a"])(w,r,i,!1,null,"1bfdf90a",null);e["default"]=O.exports},"96a7":function(t,e,n){"use strict";e["a"]={data:function(){return{duration:5e3}},methods:{apiResponseNotification:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e.status,i=e.data.erro||n.title||null,a=e.data.msg||e.msg||n.msg;r==t?this.successNotification(i,a):this.errorNotification(i,a)},defaultNotification:function(t,e){var n={group:"response",type:"info",title:t||"Atenção",text:e||"Nenhum texto de resposta foi informado.",duration:this.duration};this.$notify(n)},errorNotification:function(t,e){var n={group:"response",type:"error",title:t||"Não foi possível concluir a operação.",text:e||"",duration:this.duration};this.$notify(n)},successNotification:function(t,e){var n={group:"response",type:"success",title:t||"Operação realizada com sucesso!",text:e||"",duration:this.duration};this.$notify(n)}}}}}]);
//# sourceMappingURL=chunk-2e7a0bc3.3fb6965b.js.map