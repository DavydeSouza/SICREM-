(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bfbe1fa2"],{"0b3a":function(t,e,n){"use strict";n("2def")},"2def":function(t,e,n){},4090:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"component-root",attrs:{id:"user-component-content"}},[n("div",{staticClass:"content"},[n("div",{staticClass:"row"},[n("box-filters",{scopedSlots:t._u([{key:"fields",fn:function(){return[n("div",{staticClass:"search-section"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.name,expression:"filters.name"}],ref:"text",attrs:{type:"text",placeholder:"Filtro por nome"},domProps:{value:t.filters.name},on:{input:function(e){e.target.composing||t.$set(t.filters,"name",e.target.value)}}}),n("label",{staticClass:"label-search",attrs:{for:"search"}},[n("i",{staticClass:"fas fa-search"})])]),n("div",{staticClass:"actions"},[n("button",{staticClass:"btn-custom primary",on:{click:t.search}},[t._v("\n\t\t\t\t\t\t\tBUSCAR\n\t\t\t\t\t\t")]),n("button",{staticClass:"btn-custom main-action",on:{click:function(){return t.$router.push({name:"clientCreate"})}}},[t._v("\n\t\t\t\t\t\t\tNOVO\n\t\t\t\t\t\t")])])]},proxy:!0}])})],1),n("div",{staticClass:"row"},[n("generic-table",{attrs:{headers:t.headers,"load-data":function(){},query:t.$route.query,"total-itens":t.totalUsers,visible:!!t.clients.length,pageSize:12},on:{"generic-table-paginate":function(e){return t.changedPage(e)}},scopedSlots:t._u([{key:"rows",fn:function(){return t._l(t.clients.map((function(t){return t})),(function(e,i){return n("tr",{key:i},[t._l(t.filteredCells(e),(function(a,r){return n("td",{key:r},["clientid"===a?n("span",[n("label",[t._v(t._s(t.headers[i])+":")]),t._v("\n\t\t\t\t\t\t\t\t"+t._s(e[a]||" - ")+"\n\t\t\t\t\t\t\t")]):"name"===a?n("span",{attrs:{title:e[a]}},[n("label",[t._v(t._s(t.headers[r])+":")]),t._v("\n\t\t\t\t\t\t\t\t"+t._s(e[a])+"\n\t\t\t\t\t\t\t")]):"email"===a?n("span",[n("label",[t._v(t._s(t.headers[r])+":")]),t._v("\n\t\t\t\t\t\t\t\t"+t._s(e[a])+"\n\t\t\t\t\t\t\t")]):t._e()])})),n("td",[n("item-inactive",{attrs:{allow:!0,active:e.active,text:t.promptText(e.active),"on-click":function(){return t.inactive(e)}}})],1),n("td",{staticClass:"actions"},[n("div",{staticClass:"actions-container"},[n("item-edit",{attrs:{"router-name":"clientEdit",params:{id:e.clientid},query:{}}}),t.isAdmin()?n("item-remove",{attrs:{text:t.textDelete,"on-click":function(){return t.removeCliente(e.id)}}}):t._e()],1)])],2)}))},proxy:!0}])})],1)])])},a=[],r=n("a34a"),o=n.n(r),s=n("2f62"),c=n("5ff3"),u=n("96a7"),l=n("88f5"),f=n("93bc"),d=n("8612"),p=n("defe"),m=n("bba1"),v=n("bf7c");function h(t,e,n,i,a,r,o){try{var s=t[r](o),c=s.value}catch(u){return void n(u)}s.done?e(c):Promise.resolve(c).then(i,a)}function b(t){return function(){var e=this,n=arguments;return new Promise((function(i,a){var r=t.apply(e,n);function o(t){h(r,i,a,o,s,"next",t)}function s(t){h(r,i,a,o,s,"throw",t)}o(void 0)}))}}function x(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function C(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?x(Object(n),!0).forEach((function(e){y(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var w={name:"ClientList",components:{BoxFilters:f["a"],GenericTable:d["a"],ItemEdit:p["a"],ItemRemove:m["a"],ItemInactive:v["a"]},mixins:[c["a"],u["a"],l["a"]],data:function(){return{headers:["Nome","E-mail","Cliente ID","Status","Ações"],textDelete:"\n\t\t\t\tAo remover um cliente os certificados/embarcações atrelados ao mesmo serão removidos\n\t\t\t\tnão havendo possibilidade de recuperação.\n\t\t\t\tConfirma a operação?\n\t\t\t",textInactivate:"\n\t\t\t\tAo desativar um cliente os certificados atrelados ao mesmo e o seu acesso\n\t\t\t\tao sistena serão desativados.\n\t\t\t\tConfirma a operação?\n\t\t\t",textActivate:" O cliente será re-ativado. Confirma a operação?",filters:{active:1,name:void 0},requestParams:{page:1,sorter:"name",direction:"asc"}}},computed:C({},Object(s["d"])({totalUsers:function(t){return t.clients.total},clients:function(t){return t.clients.clients}})),mounted:function(){this.loadClients_()},methods:C(C({},Object(s["b"])(["loadClients","getClientsByName","inactiveCliente","removeCliente"])),{},{search:function(){var t=this;return b(o.a.mark((function e(){return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.loadClients_();case 2:t.$refs["text"].value="";case 3:case"end":return e.stop()}}),e)})))()},filteredCells:function(t){var e=["clientid","name","email"],n=Object.keys(t),i=n.filter((function(t){return e.includes(t)}));return i},levelNames:function(t){var e=["Adminstrador","CBES Usuário","Cliente"];return e[t]},inactive:function(t){var e=this;return b(o.a.mark((function n(){var i;return o.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.inactiveCliente(t);case 2:i=n.sent,e.apiResponseNotification(200,i);case 4:case"end":return n.stop()}}),n)})))()},promptText:function(t){return t?this.textInactivate:this.textActivate},changedPage:function(t){var e=this;return b(o.a.mark((function n(){return o.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.requestParams.page=t,n.next=3,e.loadClients_();case 3:case"end":return n.stop()}}),n)})))()},loadClients_:function(){var t=this;return b(o.a.mark((function e(){var n;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=C(C({},t.filters),t.requestParams),e.next=3,t.loadClients(t.sanatize(n));case 3:case"end":return e.stop()}}),e)})))()}})},g=w,_=(n("0b3a"),n("2877")),O=Object(_["a"])(g,i,a,!1,null,"bd2b64b6",null);e["default"]=O.exports},"88f5":function(t,e,n){"use strict";var i=n("d1e3");e["a"]={methods:{isCbesUser:function(){return this.$auth.user().level===i["a"].user},isClient:function(){return this.$auth.user().level===i["a"].client},isAdmin:function(){return this.$auth.user().level===i["a"].admin},ismarinha:function(){return this.$auth.user().level===i["a"].marinha}}}},"8d06":function(t,e,n){"use strict";n("f72e")},"96a7":function(t,e,n){"use strict";e["a"]={data:function(){return{duration:5e3}},methods:{apiResponseNotification:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=e.status,a=e.data.erro||n.title||null,r=e.data.msg||e.msg||n.msg;i==t?this.successNotification(a,r):this.errorNotification(a,r)},defaultNotification:function(t,e){var n={group:"response",type:"info",title:t||"Atenção",text:e||"Nenhum texto de resposta foi informado.",duration:this.duration};this.$notify(n)},errorNotification:function(t,e){var n={group:"response",type:"error",title:t||"Não foi possível concluir a operação.",text:e||"",duration:this.duration};this.$notify(n)},successNotification:function(t,e){var n={group:"response",type:"success",title:t||"Operação realizada com sucesso!",text:e||"",duration:this.duration};this.$notify(n)}}}},bf7c:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"item-inactive-component"},[n("span",{staticClass:"text",on:{click:function(){return t.clicked(t.active)}}},[t._v("\n\t\t"+t._s(t.active?t.activate:t.inactivate)+"\n\t")]),t.prompt?n("prompt-modal",{attrs:{confirmCallback:t.allow?t.onClick:function(){return null},text:t.text||t.exclusionText},on:{"close-prompt-modal":function(e){t.prompt=!1}}}):t._e()],1)},a=[],r=n("9729"),o={name:"ItemInactive",components:{PromptModal:r["a"]},props:{onClick:{type:Function,default:void 0},totalObjetos:{type:Number,default:0},active:{type:Boolean,default:!0},allow:{type:Boolean,default:!1},text:{type:String,default:null}},data:function(){return{prompt:!1,activate:"Ativo",inactivate:"Inativo",exclusionText:"Confirma a inativação?",tooltip:{content:"Inativar"}}},methods:{clicked:function(){this.allow&&(this.prompt=!0)}}},s=o,c=(n("8d06"),n("2877")),u=Object(c["a"])(s,i,a,!1,null,"eb6c0418",null);e["a"]=u.exports},d1e3:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var i={admin:"0",client:"2",user:"1",marinha:"3"}},f72e:function(t,e,n){}}]);
//# sourceMappingURL=chunk-bfbe1fa2.391e9d8b.js.map