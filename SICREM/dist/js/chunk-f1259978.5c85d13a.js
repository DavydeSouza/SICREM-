(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f1259978"],{"3e6d":function(t,e,n){},"88f5":function(t,e,n){"use strict";var i=n("d1e3");e["a"]={methods:{isCbesUser:function(){return this.$auth.user().level===i["a"].user},isClient:function(){return this.$auth.user().level===i["a"].client},isAdmin:function(){return this.$auth.user().level===i["a"].admin},ismarinha:function(){return this.$auth.user().level===i["a"].marinha}}}},"8d06":function(t,e,n){"use strict";n("f72e")},"96a7":function(t,e,n){"use strict";e["a"]={data:function(){return{duration:5e3}},methods:{apiResponseNotification:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=e.status,a=e.data.erro||n.title||null,r=e.data.msg||e.msg||n.msg;i==t?this.successNotification(a,r):this.errorNotification(a,r)},defaultNotification:function(t,e){var n={group:"response",type:"info",title:t||"Atenção",text:e||"Nenhum texto de resposta foi informado.",duration:this.duration};this.$notify(n)},errorNotification:function(t,e){var n={group:"response",type:"error",title:t||"Não foi possível concluir a operação.",text:e||"",duration:this.duration};this.$notify(n)},successNotification:function(t,e){var n={group:"response",type:"success",title:t||"Operação realizada com sucesso!",text:e||"",duration:this.duration};this.$notify(n)}}}},a444:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"component-root",attrs:{id:"user-component-content"}},[n("div",{staticClass:"content"},[n("div",{staticClass:"row"},[n("box-filters",{scopedSlots:t._u([{key:"fields",fn:function(){return[n("div",{staticClass:"search-section"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.name,expression:"filters.name"}],ref:"text",attrs:{type:"text",placeholder:"Filtro por nome"},domProps:{value:t.filters.name},on:{input:function(e){e.target.composing||t.$set(t.filters,"name",e.target.value)}}}),n("label",{staticClass:"label-search",attrs:{for:"search"}},[n("i",{staticClass:"fas fa-search"})])]),n("div",{staticClass:"actions"},[n("button",{staticClass:"btn-custom primary",on:{click:t.search}},[t._v("\n\t\t\t\t\t\t\tBUSCAR\n\t\t\t\t\t\t")]),n("button",{staticClass:"btn-custom main-action",on:{click:function(){return t.$router.push({name:"userCreate"})}}},[t._v("\n\t\t\t\t\t\t\tNOVO\n\t\t\t\t\t\t")])])]},proxy:!0}])})],1),n("div",{staticClass:"row"},[n("generic-table",{attrs:{headers:t.headers,"load-data":function(){},query:t.$route.query,"total-itens":t.totalUsers,visible:!!t.clients.length,pageSize:12},on:{"generic-table-paginate":function(e){return t.changedPage(e)}},scopedSlots:t._u([{key:"rows",fn:function(){return t._l(t.clients.map((function(t){return t})),(function(e,i){return n("tr",{key:i},[t._l(t.filteredCells(e),(function(i,a){return n("td",{key:a},["clientid"===i?n("item-inactive",{attrs:{allow:t.isAdmin(),active:e.active,text:t.promptText(e.active),"on-click":function(){return t.inactive(e)}}}):"name"===i?n("span",{attrs:{title:e[i]}},[n("label",[t._v(t._s(t.headers[a])+":")]),t._v("\n\t\t\t\t\t\t\t\t"+t._s(e[i])+"\n\t\t\t\t\t\t\t")]):"level"===i?n("span",[n("label",[t._v(t._s(t.headers[a])+":")]),t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.levelNames(e[i]))+"\n\t\t\t\t\t\t\t")]):"email"===i?n("span",[n("label",[t._v(t._s(t.headers[a])+":")]),t._v("\n\t\t\t\t\t\t\t\t"+t._s(e[i])+"\n\t\t\t\t\t\t\t")]):t._e()],1)})),n("td",{staticClass:"actions"},[n("div",{staticClass:"actions-container"},[n("item-edit",{attrs:{"router-name":"usersEdit",params:{id:e.id},query:{}}}),t.isAdmin()?n("item-remove",{attrs:{text:t.textDelete,"on-click":function(){return t.inactive(e)}}}):t._e()],1)])],2)}))},proxy:!0}])})],1)])])},a=[],r=n("a34a"),s=n.n(r),o=n("2f62"),c=n("5ff3"),u=n("96a7"),l=n("88f5"),f=n("93bc"),d=n("8612"),p=n("defe"),m=n("bba1"),v=n("bf7c");function h(t,e,n,i,a,r,s){try{var o=t[r](s),c=o.value}catch(u){return void n(u)}o.done?e(c):Promise.resolve(c).then(i,a)}function b(t){return function(){var e=this,n=arguments;return new Promise((function(i,a){var r=t.apply(e,n);function s(t){h(r,i,a,s,o,"next",t)}function o(t){h(r,i,a,s,o,"throw",t)}s(void 0)}))}}function y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function x(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?y(Object(n),!0).forEach((function(e){w(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function w(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var C={name:"UsersList",components:{BoxFilters:f["a"],GenericTable:d["a"],ItemEdit:p["a"],ItemRemove:m["a"],ItemInactive:v["a"]},mixins:[c["a"],u["a"],l["a"]],data:function(){return{headers:["Nome","Perfil","E-mail","Status","Ações"],textDelete:"\n\t\t\t\tEssa remoção não poderá ser desfeita.\n\t\t\t\tConfirma a operação?\n\t\t\t",textInactivate:"\n\t\t\t\tDesativar um usuário suspende o acesso do mesmo ao sistema.\n\t\t\t\tConfirma a operação?\n\t\t\t",textActivate:" O cliente será re-ativado. Confirma a operação?",filters:{active:1,level:[0,1],name:void 0},requestParams:{page:1,sorter:"name",direction:"asc"}}},computed:x({},Object(o["d"])({totalUsers:function(t){return t.clients.total},clients:function(t){return t.clients.clients}})),mounted:function(){this.loadUsersByField_()},methods:x(x({},Object(o["b"])(["loadUsersByField","getClientsByName","inactiveCliente","removeCliente"])),{},{search:function(){var t=this;return b(s.a.mark((function e(){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.loadUsersByField_();case 2:t.$refs["text"].value="";case 3:case"end":return e.stop()}}),e)})))()},filteredCells:function(t){var e=["clientid","name","level","email"],n=Object.keys(t),i=n.filter((function(t){return e.includes(t)}));return i},levelNames:function(t){var e=["Adminstrador","CBES Usuário","Cliente"];return e[t]},inactive:function(t){var e=this;return b(s.a.mark((function n(){var i;return s.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.inactiveCliente(t);case 2:i=n.sent,e.apiResponseNotification(200,i);case 4:case"end":return n.stop()}}),n)})))()},promptText:function(t){return t?this.textInactivate:this.textActivate},changedPage:function(t){var e=this;return b(s.a.mark((function n(){return s.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.requestParams.page=t,n.next=3,e.loadUsersByField_();case 3:case"end":return n.stop()}}),n)})))()},loadUsersByField_:function(){var t=this;return b(s.a.mark((function e(){var n;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=x(x({},t.filters),t.requestParams),e.next=3,t.loadUsersByField(t.sanatize(n));case 3:case"end":return e.stop()}}),e)})))()}})},g=C,_=(n("ad16"),n("2877")),O=Object(_["a"])(g,i,a,!1,null,"b2e5f932",null);e["default"]=O.exports},ad16:function(t,e,n){"use strict";n("3e6d")},bf7c:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"item-inactive-component"},[n("span",{staticClass:"text",on:{click:function(){return t.clicked(t.active)}}},[t._v("\n\t\t"+t._s(t.active?t.activate:t.inactivate)+"\n\t")]),t.prompt?n("prompt-modal",{attrs:{confirmCallback:t.allow?t.onClick:function(){return null},text:t.text||t.exclusionText},on:{"close-prompt-modal":function(e){t.prompt=!1}}}):t._e()],1)},a=[],r=n("9729"),s={name:"ItemInactive",components:{PromptModal:r["a"]},props:{onClick:{type:Function,default:void 0},totalObjetos:{type:Number,default:0},active:{type:Boolean,default:!0},allow:{type:Boolean,default:!1},text:{type:String,default:null}},data:function(){return{prompt:!1,activate:"Ativo",inactivate:"Inativo",exclusionText:"Confirma a inativação?",tooltip:{content:"Inativar"}}},methods:{clicked:function(){this.allow&&(this.prompt=!0)}}},o=s,c=(n("8d06"),n("2877")),u=Object(c["a"])(o,i,a,!1,null,"eb6c0418",null);e["a"]=u.exports},d1e3:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var i={admin:"0",client:"2",user:"1",marinha:"3"}},f72e:function(t,e,n){}}]);
//# sourceMappingURL=chunk-f1259978.5c85d13a.js.map