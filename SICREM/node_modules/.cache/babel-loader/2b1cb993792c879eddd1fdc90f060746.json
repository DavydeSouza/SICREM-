{"remainingRequest":"D:\\Cbes\\SICREM\\node_modules\\babel-loader\\lib\\index.js!D:\\Cbes\\SICREM\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\Cbes\\SICREM\\src\\store\\modules\\ships\\gtf\\actions.js","dependencies":[{"path":"D:\\Cbes\\SICREM\\src\\store\\modules\\ships\\gtf\\actions.js","mtime":1643115623525},{"path":"D:\\Cbes\\SICREM\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Cbes\\SICREM\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\Cbes\\SICREM\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiRDovQ2Jlcy9TSUNSRU0vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL3JlZ2VuZXJhdG9yIjsKCmZ1bmN0aW9uIGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywga2V5LCBhcmcpIHsgdHJ5IHsgdmFyIGluZm8gPSBnZW5ba2V5XShhcmcpOyB2YXIgdmFsdWUgPSBpbmZvLnZhbHVlOyB9IGNhdGNoIChlcnJvcikgeyByZWplY3QoZXJyb3IpOyByZXR1cm47IH0gaWYgKGluZm8uZG9uZSkgeyByZXNvbHZlKHZhbHVlKTsgfSBlbHNlIHsgUHJvbWlzZS5yZXNvbHZlKHZhbHVlKS50aGVuKF9uZXh0LCBfdGhyb3cpOyB9IH0KCmZ1bmN0aW9uIF9hc3luY1RvR2VuZXJhdG9yKGZuKSB7IHJldHVybiBmdW5jdGlvbiAoKSB7IHZhciBzZWxmID0gdGhpcywgYXJncyA9IGFyZ3VtZW50czsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdmFyIGdlbiA9IGZuLmFwcGx5KHNlbGYsIGFyZ3MpOyBmdW5jdGlvbiBfbmV4dCh2YWx1ZSkgeyBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csICJuZXh0IiwgdmFsdWUpOyB9IGZ1bmN0aW9uIF90aHJvdyhlcnIpIHsgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCAidGhyb3ciLCBlcnIpOyB9IF9uZXh0KHVuZGVmaW5lZCk7IH0pOyB9OyB9CgppbXBvcnQgeyBwb3J0IH0gZnJvbSAnQC9zZXJ2aWNlcy9wb3J0cyc7CmltcG9ydCBzYW5hdGl6ZU9iamVjdCBmcm9tICdAL2hlbHBlcnMvc2FuYXRpemVPYmplY3QnOwppbXBvcnQgb25seUlEcyBmcm9tICdAL2hlbHBlcnMvb25seUlEcyc7CmltcG9ydCBzZXRTYW1lT2JqZWN0RmllbGRzIGZyb20gIi4uLy4uLy4uLy4uL2hlbHBlcnMvc2V0U2FtZU9iamVjdEZpZWxkcy5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBzZXRHdGZGaWVsZDogZnVuY3Rpb24gc2V0R3RmRmllbGQoY29udGV4dCkgewogICAgdmFyIHBheWxvYWQgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHsKICAgICAgdmFsdWU6IHVuZGVmaW5lZCwKICAgICAgZmllbGQ6ICcnCiAgICB9OwogICAgY29udGV4dC5jb21taXQoJ1NFVF9HVEZfRklFTEQnLCBwYXlsb2FkKTsKICB9LAogIGdldFBvcnRCeU5hbWU6IGZ1bmN0aW9uIGdldFBvcnRCeU5hbWUoX3JlZiwgcGF5bG9hZCkgewogICAgdmFyIGNvbW1pdCA9IF9yZWYuY29tbWl0OwoKICAgIGlmIChwYXlsb2FkLmxlbmd0aCA+IDIpIHsKICAgICAgc2V0VGltZW91dCggLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHJlc3AsIGRhdGE7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIHBvcnQuZmluZEJ5TmFtZShwYXlsb2FkKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzcCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBkYXRhID0gcmVzcC5kYXRhLmxlbmd0aCA/IHJlc3AuZGF0YSA6IFt7CiAgICAgICAgICAgICAgICAgIGlkOiAnJywKICAgICAgICAgICAgICAgICAgbmFtZTogcGF5bG9hZAogICAgICAgICAgICAgICAgfV07CiAgICAgICAgICAgICAgICBjb21taXQoJ1NFVF9HVEZfUE9SVFMnLCBkYXRhKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSwgNDAwKTsKICAgIH0KICB9LAogIHJlc2V0R3RmUG9ydHM6IGZ1bmN0aW9uIHJlc2V0R3RmUG9ydHMoX3JlZjMpIHsKICAgIHZhciBjb21taXQgPSBfcmVmMy5jb21taXQ7CiAgICBjb21taXQoJ1JFU0VUX0dURl9QT1JUUycsIFtdKTsKICB9LAogIHJlc2V0R3RmRmllbGRzOiBmdW5jdGlvbiByZXNldEd0ZkZpZWxkcyhfcmVmNCkgewogICAgdmFyIGNvbW1pdCA9IF9yZWY0LmNvbW1pdDsKICAgIGNvbW1pdCgnUkVTRVRfR1RGX0ZJRUxEUycpOwogIH0sCiAgcmVzZXRHdGZTdGF0ZTogZnVuY3Rpb24gcmVzZXRHdGZTdGF0ZShfcmVmNSkgewogICAgdmFyIGNvbW1pdCA9IF9yZWY1LmNvbW1pdDsKICAgIGNvbW1pdCgnUkVTRVRfR1RGX1NUQVRFJyk7CiAgfSwKICBzZXRHdGY6IGZ1bmN0aW9uIHNldEd0Zihjb250ZXh0LCBwYXlsb2FkKSB7CiAgICB2YXIgZGF0YSA9IHNldFNhbWVPYmplY3RGaWVsZHMocGF5bG9hZCwgY29udGV4dC5zdGF0ZS5ndGYpOwogICAgY29udGV4dC5jb21taXQoJ1NFVF9HVEYnLCBkYXRhKTsKICB9LAogIGdldEd0ZkVkaXRlZEZvcm1hdDogZnVuY3Rpb24gZ2V0R3RmRWRpdGVkRm9ybWF0KF9yZWY2KSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgIHZhciBzdGF0ZSwgZ2V0dGVycywgX3N0YXRlJGd0ZiwgaHVsbG1hdGVyaWFsLCBvcGVyYXRpb25wb3J0LCByZWdpc3RyYXRpb25wb3J0LCBzaGlwdHlwZSwgX3N0YXRlJGd0ZjIsIGlkLCBhY3Rpdml0eXMsIG5hdmlnYXRpb25hcmVhcywgc2hpcCwgc2hpcHlhcmQsIGd0ZjsKCiAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIHN0YXRlID0gX3JlZjYuc3RhdGUsIGdldHRlcnMgPSBfcmVmNi5nZXR0ZXJzOwogICAgICAgICAgICAgIF9zdGF0ZSRndGYgPSBzdGF0ZS5ndGYsIGh1bGxtYXRlcmlhbCA9IF9zdGF0ZSRndGYuaHVsbG1hdGVyaWFsLCBvcGVyYXRpb25wb3J0ID0gX3N0YXRlJGd0Zi5vcGVyYXRpb25wb3J0LCByZWdpc3RyYXRpb25wb3J0ID0gX3N0YXRlJGd0Zi5yZWdpc3RyYXRpb25wb3J0LCBzaGlwdHlwZSA9IF9zdGF0ZSRndGYuc2hpcHR5cGU7CiAgICAgICAgICAgICAgX3N0YXRlJGd0ZjIgPSBzdGF0ZS5ndGYsIGlkID0gX3N0YXRlJGd0ZjIuaWQsIGFjdGl2aXR5cyA9IF9zdGF0ZSRndGYyLmFjdGl2aXR5cywgbmF2aWdhdGlvbmFyZWFzID0gX3N0YXRlJGd0ZjIubmF2aWdhdGlvbmFyZWFzLCBzaGlwID0gX3N0YXRlJGd0ZjIuc2hpcDsKICAgICAgICAgICAgICBzaGlweWFyZCA9IGdldHRlcnMuc2hpcHlhcmQuaWQ7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA2OwogICAgICAgICAgICAgIHJldHVybiBzYW5hdGl6ZU9iamVjdChvbmx5SURzKHsKICAgICAgICAgICAgICAgIGlkOiBpZCwKICAgICAgICAgICAgICAgIGh1bGxtYXRlcmlhbDogaHVsbG1hdGVyaWFsLAogICAgICAgICAgICAgICAgb3BlcmF0aW9ucG9ydDogb3BlcmF0aW9ucG9ydCwKICAgICAgICAgICAgICAgIHJlZ2lzdHJhdGlvbnBvcnQ6IHJlZ2lzdHJhdGlvbnBvcnQsCiAgICAgICAgICAgICAgICBzaGlweWFyZDogc2hpcHlhcmQsCiAgICAgICAgICAgICAgICBzaGlwdHlwZTogc2hpcHR5cGUKICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgZ3RmID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgZ3RmLnNoaXAgPSBzaGlwOwogICAgICAgICAgICAgIGd0Zi5zaGlweWFyZCA9IGdldHRlcnMuc2hpcHlhcmQuaWQgPyB7CiAgICAgICAgICAgICAgICBpZDogZ2V0dGVycy5zaGlweWFyZC5pZAogICAgICAgICAgICAgIH0gOiBnZXR0ZXJzLnNoaXB5YXJkOwogICAgICAgICAgICAgIGd0Zi5hY3Rpdml0eXMgPSBKU09OLnN0cmluZ2lmeShhY3Rpdml0eXMpOwogICAgICAgICAgICAgIGd0Zi5uYXZpZ2F0aW9uYXJlYXMgPSBKU09OLnN0cmluZ2lmeShuYXZpZ2F0aW9uYXJlYXMpOwogICAgICAgICAgICAgIGd0Zi5wcm9wdWxzaW9uYW5kcG93ZXIgPSBKU09OLnN0cmluZ2lmeShnZXR0ZXJzLnByb3B1bHNpb25zQW5kUG93ZXJzKTsKICAgICAgICAgICAgICBndGYucnRjID0gSlNPTi5zdHJpbmdpZnkoZ2V0dGVycy5nZXRDaGVja2VkUnRjcyk7CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIGd0Zik7CgogICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTIpOwogICAgfSkpKCk7CiAgfQp9Ow=="},{"version":3,"sources":["D:/Cbes/SICREM/src/store/modules/ships/gtf/actions.js"],"names":["port","sanatizeObject","onlyIDs","setSameObjectFields","setGtfField","context","payload","value","undefined","field","commit","getPortByName","length","setTimeout","findByName","resp","data","id","name","resetGtfPorts","resetGtfFields","resetGtfState","setGtf","state","gtf","getGtfEditedFormat","getters","hullmaterial","operationport","registrationport","shiptype","activitys","navigationareas","ship","shipyard","JSON","stringify","propulsionandpower","propulsionsAndPowers","rtc","getCheckedRtcs"],"mappings":"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","sourcesContent":["import { port } from '@/services/ports'\r\nimport sanatizeObject from '@/helpers/sanatizeObject'\r\nimport onlyIDs from '@/helpers/onlyIDs'\r\n\r\nimport setSameObjectFields from '../../../../helpers/setSameObjectFields.js'\r\n\r\nexport default {\r\n\tsetGtfField(context, payload = { value: undefined, field: '' }) {\r\n\t\tcontext.commit('SET_GTF_FIELD', payload)\r\n\t},\r\n\tgetPortByName({ commit }, payload) {\r\n\t\tif (payload.length > 2) {\r\n\t\t\tsetTimeout(async () => {\r\n\t\t\t\tconst resp = await port.findByName(payload)\r\n\t\t\t\tconst data = resp.data.length ? resp.data : [{ id: '', name: payload }]\r\n\t\t\t\tcommit('SET_GTF_PORTS', data)\r\n\t\t\t}, 400)\r\n\t\t}\r\n\t},\r\n\tresetGtfPorts({ commit }) {\r\n\t\tcommit('RESET_GTF_PORTS', [])\r\n\t},\r\n\tresetGtfFields({ commit }) {\r\n\t\tcommit('RESET_GTF_FIELDS')\r\n\t},\r\n\tresetGtfState({ commit }) {\r\n\t\tcommit('RESET_GTF_STATE')\r\n\t},\r\n\tsetGtf(context, payload) {\r\n\t\tconst data = setSameObjectFields(payload, context.state.gtf)\r\n\t\tcontext.commit('SET_GTF', data)\r\n\t},\r\n\tasync getGtfEditedFormat({ state, getters }) {\r\n\t\tconst {\r\n\t\t\thullmaterial,\r\n\t\t\toperationport,\r\n\t\t\tregistrationport,\r\n\t\t\tshiptype\r\n\t\t} = state.gtf\r\n\t\tconst { id, activitys, navigationareas, ship } = state.gtf\r\n\t\tconst shipyard = getters.shipyard.id\r\n\t\tconst gtf = await sanatizeObject(\r\n\t\t\tonlyIDs({\r\n\t\t\t\tid,\r\n\t\t\t\thullmaterial,\r\n\t\t\t\toperationport,\r\n\t\t\t\tregistrationport,\r\n\t\t\t\tshipyard,\r\n\t\t\t\tshiptype\r\n\t\t\t})\r\n\t\t)\r\n\t\tgtf.ship = ship\r\n\t\tgtf.shipyard = getters.shipyard.id\r\n\t\t\t? { id: getters.shipyard.id }\r\n\t\t\t: getters.shipyard\r\n\t\tgtf.activitys = JSON.stringify(activitys)\r\n\t\tgtf.navigationareas = JSON.stringify(navigationareas)\r\n\t\tgtf.propulsionandpower = JSON.stringify(getters.propulsionsAndPowers)\r\n\t\tgtf.rtc = JSON.stringify(getters.getCheckedRtcs)\r\n\t\treturn gtf\r\n\t}\r\n}\r\n"]}]}