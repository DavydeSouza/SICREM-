{"remainingRequest":"D:\\Cbes\\SICREM\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Cbes\\SICREM\\src\\components\\views\\user\\Create.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Cbes\\SICREM\\src\\components\\views\\user\\Create.vue","mtime":1640277786616},{"path":"D:\\Cbes\\SICREM\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Cbes\\SICREM\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\Cbes\\SICREM\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Cbes\\SICREM\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBtYXBTdGF0ZSwgbWFwQWN0aW9ucywgbWFwR2V0dGVycyB9IGZyb20gJ3Z1ZXgnDQppbXBvcnQgeyB1c2VycyB9IGZyb20gJ0Avc2VydmljZXMvdXNlcnMnDQovLyBpbXBvcnQgTW9kYWwgZnJvbSAnLi4vLi4vc2hhcmVkL01vZGFsJw0KaW1wb3J0IEZvcm1Cb3ggZnJvbSAnLi4vLi4vc2hhcmVkL0Zvcm1Cb3gnDQppbXBvcnQgQ29udGFjdCBmcm9tICcuL2luYy9jb250YWN0L0NvbnRhY3QudnVlJw0KaW1wb3J0IENyZWF0ZUNvbXBhbnkgZnJvbSAnLi9pbmMvY29tcGFueS9DcmVhdGUnDQppbXBvcnQgY2xpZW50VmFsaWRhdGlvbiBmcm9tICdAL21peGlucy92YWxpZGF0aW9ucy9jbGllbnQuanMnDQppbXBvcnQgbm90aWZpY2F0aW9uIGZyb20gJ0AvbWl4aW5zL25vdGlmaWNhdGlvbnNNaXhpbi5qcycNCmltcG9ydCB7IFRvZ2dsZUJ1dHRvbiB9IGZyb20gJ3Z1ZS1qcy10b2dnbGUtYnV0dG9uJw0KaW1wb3J0IHJlbW92ZUZsYWdGcm9tTGlzdCBmcm9tICdAL2hlbHBlcnMvcmVtb3ZlRmxhZ0Zyb21MaXN0Jw0KDQpleHBvcnQgZGVmYXVsdCB7DQoJbmFtZTogJ0NyZWF0ZVVzZXInLA0KCWNvbXBvbmVudHM6IHsNCgkJQ29udGFjdCwNCgkJLy8gTW9kYWwsDQoJCUZvcm1Cb3gsDQoJCUNyZWF0ZUNvbXBhbnksDQoJCVRvZ2dsZUJ1dHRvbg0KCX0sDQoJbWl4aW5zOiBbY2xpZW50VmFsaWRhdGlvbiwgbm90aWZpY2F0aW9uXSwNCgliZWZvcmVSb3V0ZUVudGVyKHRvLCBmcm9tLCBuZXh0KSB7DQoJCW5leHQodm0gPT4gew0KCQkJdm0ucGF0aCA9IGZyb20ucGF0aA0KCQl9KQ0KCX0sDQoJZGF0YSgpIHsNCgkJcmV0dXJuIHsNCgkJCXZhbGlkYXRlOiBmYWxzZSwNCgkJCXNob3dDb250YWN0OiBmYWxzZSwNCgkJCXN1Ym1pdHRlZDogdHJ1ZSwNCgkJCWxvYWRpbmdTdWJtaXQ6IHRydWUsDQoJCQlpc1NjdWJhOiBmYWxzZSwNCgkJCWNvbXBhbnlJbnZhbGlkXzogdHJ1ZQ0KCQl9DQoJfSwNCgljb21wdXRlZDogew0KCQkuLi5tYXBTdGF0ZSh7DQoJCQljbGllbnQ6IHN0YXRlID0+IHN0YXRlLmNsaWVudHMuY2xpZW50LA0KCQkJY29tcGFueTogc3RhdGUgPT4gc3RhdGUuY29tcGFueS5jb21wYW55LA0KCQkJbGV2ZWxzOiBzdGF0ZSA9PiBzdGF0ZS5sZXZlbHMubGV2ZWxzDQoJCX0pLA0KCQkuLi5tYXBHZXR0ZXJzKFsnY29udGFjdHMnXSksDQoJCWNvbXBhbnlJc0ludmFsaWQ6IHsNCgkJCWdldCgpIHsNCgkJCQlyZXR1cm4gdGhpcy5jb21wYW55SW52YWxpZF8gJiYgdGhpcy5pc1NjdWJhDQoJCQl9LA0KCQkJc2V0KHZhbHVlKSB7DQoJCQkJdGhpcy5jb21wYW55SW52YWxpZF8gPSB2YWx1ZQ0KCQkJfQ0KCQl9LA0KCQluYW1lOiB7DQoJCQlnZXQoKSB7DQoJCQkJcmV0dXJuIHRoaXMuY2xpZW50Lm5hbWUNCgkJCX0sDQoJCQlzZXQodmFsdWUpIHsNCgkJCQl0aGlzLnNldENsaWVudEZpZWxkKHsgdmFsdWUsIGZpZWxkOiAnbmFtZScgfSkNCgkJCX0NCgkJfSwNCgkJZW1haWw6IHsNCgkJCWdldCgpIHsNCgkJCQlyZXR1cm4gdGhpcy5jbGllbnQuZW1haWwNCgkJCX0sDQoJCQlzZXQodmFsdWUpIHsNCgkJCQl0aGlzLnNldENsaWVudEZpZWxkKHsgdmFsdWUsIGZpZWxkOiAnZW1haWwnIH0pDQoJCQl9DQoJCX0sDQoJCWxldmVsOiB7DQoJCQlnZXQoKSB7DQoJCQkJcmV0dXJuIHRoaXMuY2xpZW50LmxldmVsDQoJCQl9LA0KCQkJc2V0KHZhbHVlKSB7DQoJCQkJdGhpcy5zZXRDbGllbnRGaWVsZCh7IHZhbHVlLCBmaWVsZDogJ2xldmVsJyB9KQ0KCQkJfQ0KCQl9LA0KCQljbGllbnRJZDogew0KCQkJZ2V0KCkgew0KCQkJCXJldHVybiB0aGlzLmNsaWVudC5jbGllbnRJZA0KCQkJfQ0KCQl9LA0KCQlkaXNhYmxlU2F2ZTogew0KCQkJZ2V0KCkgew0KCQkJCXJldHVybiAoDQoJCQkJCXRoaXMuJHYuJGVycm9yIHx8DQoJCQkJCSghdGhpcy5jb250YWN0cy5sZW5ndGggJiYgdGhpcy5jbGllbnQubGV2ZWwgPT09ICcyJykgfHwNCgkJCQkJdGhpcy5jb21wYW55SXNJbnZhbGlkDQoJCQkJKQ0KCQkJfQ0KCQl9LA0KCQlpc0NsaWVudDogew0KCQkJZ2V0KCkgew0KCQkJCXJldHVybiB0aGlzLmNsaWVudC5sZXZlbCA9PT0gJzInDQoJCQl9DQoJCX0NCgl9LA0KCWFzeW5jIGNyZWF0ZWQoKSB7DQoJCWlmICghdGhpcy5sZXZlbHMubGVuZ3RoKSBhd2FpdCB0aGlzLmxhb2RBbGxMZXZlbHMoKQ0KCQlpZiAodGhpcy4kcm91dGUucGFyYW1zLmlkKSB7DQoJCQlhd2FpdCB0aGlzLmxhb2RDbGllbnRUb0VkaXQodGhpcy4kcm91dGUucGFyYW1zLmlkKQ0KCQkJdGhpcy5pc1NjdWJhID0gISF0aGlzLmNvbXBhbnkuZmNlbQ0KCQl9DQoJfSwNCglkZXN0cm95ZWQoKSB7DQoJCXRoaXMucmVzZXRDbGllbnRTdGF0ZSgpDQoJCXRoaXMucmVzZXRDb21wYW55U3RhdGUoKQ0KCX0sDQoJbWV0aG9kczogew0KCQliYWNrKCl7DQoJCQl0aGlzLiRyb3V0ZXIuYmFjayh7cmVkaXJlY3Q6ICcvdXN1YXJpb3MnfSkNCgkJfSwNCgkJLi4ubWFwQWN0aW9ucyhbDQoJCQknc2V0Q2xpZW50RmllbGQnLA0KCQkJJ2xhb2RBbGxMZXZlbHMnLA0KCQkJJ2xhb2RDbGllbnRUb0VkaXQnLA0KCQkJJ3Jlc2V0Q2xpZW50U3RhdGUnLA0KCQkJJ3Jlc2V0Q29tcGFueVN0YXRlJw0KCQldKSwNCgkJYXN5bmMgc2F2ZSgpIHsNCgkJCXRoaXMuc3VibWl0dGVkID0gdHJ1ZQ0KCQkJdGhpcy5sb2FkaW5nU3VibWl0ID0gdHJ1ZQ0KCQkJdGhpcy4kdi4kdG91Y2goKQ0KCQkJaWYgKHRoaXMuaXNDbGllbnQpIHRoaXMudmFsaWRhdGUgPSAhdGhpcy52YWxpZGF0ZQ0KCQkJaWYgKCF0aGlzLiR2LiRlcnJvcikgew0KCQkJCWlmICh0aGlzLmlzQ2xpZW50ICYmICF0aGlzLmlzU2N1YmEpIHsNCgkJCQkJdGhpcy5jb21wYW55LmZjZW0gPSB0aGlzLmNvbXBhbnkuZmNlbUV4cGlyYXRpb24gPSBudWxsDQoJCQkJfQ0KCQkJCWNvbnN0IGNsaWVudCA9IHRoaXMuY2xpZW50DQoJCQkJY2xpZW50LmNvbnRhY3RzID0gcmVtb3ZlRmxhZ0Zyb21MaXN0KHRoaXMuY29udGFjdHMpDQoNCgkJCQlpZiAodGhpcy4kcm91dGUucGFyYW1zLmlkKSB7DQoJCQkJCXRyeSB7DQoJCQkJCQljb25zdCBjb21wYW55ID0gdGhpcy5pc1NjdWJhID8gdGhpcy5jb21wYW55IDogbnVsbA0KCQkJCQkJY29uc3QgcmVzcCA9IGF3YWl0IHVzZXJzLnVwZGF0ZShjbGllbnQuaWQsIHsNCgkJCQkJCQljbGllbnQsDQoJCQkJCQkJY29tcGFueQ0KCQkJCQkJfSkNCgkJCQkJCXRoaXMuYXBpUmVzcG9uc2VOb3RpZmljYXRpb24oMjAwLCByZXNwKQ0KCQkJCQkJdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lOiAndXNlcnNIb21lJyB9KQ0KCQkJCQl9IGNhdGNoIChlcnJvcikgew0KCQkJCQkJdGhpcy5mb3JtLnBlcmZpbCA9IHRoaXMucGVyZmlzLmZpbmQocCA9PiBwLmlkID09PSB0aGlzLmZvcm0ucGVyZmlsKQ0KCQkJCQkJdGhpcy5sb2FkaW5nU3VibWl0ID0gZmFsc2UNCgkJCQkJfQ0KCQkJCX0gZWxzZSB7DQoJCQkJCXRyeSB7DQoJCQkJCQljb25zdCBjbGllbnQgPSB0aGlzLmNsaWVudA0KCQkJCQkJY29uc3QgY29tcGFueSA9IHRoaXMuaXNDbGllbnQgPyB0aGlzLmNvbXBhbnkgOiBudWxsDQoJCQkJCQljb25zdCByZXNwID0gYXdhaXQgdXNlcnMuY3JlYXRlKHsgY2xpZW50LCBjb21wYW55IH0pDQoJCQkJCQl0aGlzLmFwaVJlc3BvbnNlTm90aWZpY2F0aW9uKDIwMSwgcmVzcCkNCgkJCQkJCXRoaXMuJHJvdXRlci5wdXNoKHsgbmFtZTogJ3VzZXJzSG9tZScgfSkNCgkJCQkJfSBjYXRjaCAoZXJyb3IpIHsNCgkJCQkJCXRoaXMubG9hZGluZ1N1Ym1pdCA9IGZhbHNlDQoJCQkJCX0NCgkJCQl9DQoJCQl9DQoJCQl0aGlzLmxvYWRpbmdTdWJtaXQgPSBmYWxzZQ0KCQl9DQoNCgl9DQp9DQo="},{"version":3,"sources":["Create.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"Create.vue","sourceRoot":"src/components/views/user","sourcesContent":["<template>\r\n\t<div id=\"crate-user-component-content\">\r\n\t\t<div class=\"form-container\">\r\n\t\t\t<form novalidate=\"true\" class=\"register\" @submit.prevent=\"save\">\r\n\t\t\t\t<form-box>\r\n\t\t\t\t\t<template slot=\"header\">\r\n\t\t\t\t\t\tDados do usuário\r\n\t\t\t\t\t</template>\r\n\r\n\t\t\t\t\t<template slot=\"content\">\r\n\t\t\t\t\t\t<div class=\"form-row\">\r\n\t\t\t\t\t\t\t<div v-if=\"isClient\" class=\"form-group col-md-4\">\r\n\t\t\t\t\t\t\t\t<label for=\"cbesid\">CBES ID</label>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tid=\"cbesid\"\r\n\t\t\t\t\t\t\t\t\tv-model=\"clientId\"\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tclass=\"form-control\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Gerado pelo sistema\"\r\n\t\t\t\t\t\t\t\t\treadonly\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div class=\"form-row\">\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tid=\"user-perfil-container\"\r\n\t\t\t\t\t\t\t\tclass=\"form-group col-md-4 select-container\"\r\n\t\t\t\t\t\t\t\t:class=\"{ 'invalid-field': $v.level.$error }\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<label for=\"user-perfilcontainer\">Perfil</label>\r\n\t\t\t\t\t\t\t\t<v-select\r\n\t\t\t\t\t\t\t\t\tv-model=\"level\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Selecione o perfil\"\r\n\t\t\t\t\t\t\t\t\ttrack-by=\"name\"\r\n\t\t\t\t\t\t\t\t\tlabel=\"name\"\r\n\t\t\t\t\t\t\t\t\t:clearable=\"false\"\r\n\t\t\t\t\t\t\t\t\t:options=\"levels\"\r\n\t\t\t\t\t\t\t\t\t:reduce=\"level => level.value\"\r\n\t\t\t\t\t\t\t\t\t@search:blur=\";[$v.level.$touch()]\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<template #no-options=\"{ searching }\">\r\n\t\t\t\t\t\t\t\t\t\t<template v-if=\"searching\" class=\"info-messages\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"not-found-message\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span>Perfil não encontrado</span>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t</v-select>\r\n\t\t\t\t\t\t\t\t<div v-if=\"$v.level.$error\" class=\"error-messages\">\r\n\t\t\t\t\t\t\t\t\t<span v-if=\"!$v.level.required\">O campo é obrigatório</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclass=\"form-group col-md-8\"\r\n\t\t\t\t\t\t\t\t:class=\"{ 'invalid-field': $v.name.$error }\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<label for=\"name\">Nome</label>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tid=\"name\"\r\n\t\t\t\t\t\t\t\t\tv-model=\"name\"\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tclass=\"form-control\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Nome do cliente\"\r\n\t\t\t\t\t\t\t\t\t@blur=\"$v.name.$touch()\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<div v-if=\"$v.name.$error\" class=\"error-messages\">\r\n\t\t\t\t\t\t\t\t\t<span v-if=\"!$v.name.required\">O campo é obrigatório</span>\r\n\t\t\t\t\t\t\t\t\t<span v-if=\"!$v.name.minLength\">\r\n\t\t\t\t\t\t\t\t\t\tDeve ter no minimo\r\n\t\t\t\t\t\t\t\t\t\t{{ $v.name.$params.minLength.min }} caracteres\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclass=\"form-group col-md-6\"\r\n\t\t\t\t\t\t\t\t:class=\"{ 'invalid-field': $v.email.$error }\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<label for=\"email\">E-mail</label>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tid=\"email\"\r\n\t\t\t\t\t\t\t\t\tv-model=\"email\"\r\n\t\t\t\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\t\t\t\tclass=\"form-control\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Email utilizado para entrar no sistema\"\r\n\t\t\t\t\t\t\t\t\t@blur=\"$v.email.$touch()\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<div v-if=\"$v.email.$error\" class=\"error-messages\">\r\n\t\t\t\t\t\t\t\t\t<span v-if=\"!$v.email.email\">Formato inválido</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div v-if=\"isClient\" class=\"form-group col-md-12 swith-content\">\r\n\t\t\t\t\t\t\t\t<label>Empresa de mergulho</label>\r\n\t\t\t\t\t\t\t\t<toggle-button\r\n\t\t\t\t\t\t\t\t\t:sync=\"true\"\r\n\t\t\t\t\t\t\t\t\t:width=\"70\"\r\n\t\t\t\t\t\t\t\t\t:height=\"30\"\r\n\t\t\t\t\t\t\t\t\t:color=\"`#01253f`\"\r\n\t\t\t\t\t\t\t\t\t:value=\"isScuba\"\r\n\t\t\t\t\t\t\t\t\t:labels=\"{ checked: 'SIM', unchecked: 'NÃO' }\"\r\n\t\t\t\t\t\t\t\t\t@change=\"isScuba = !isScuba\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</form-box>\r\n\r\n\t\t\t\t<form-box>\r\n\t\t\t\t\t<template slot=\"header\">\r\n\t\t\t\t\t\tContato\r\n\t\t\t\t\t</template>\r\n\t\t\t\t\t<template slot=\"content\">\r\n\t\t\t\t\t\t<div class=\"form-row\">\r\n\t\t\t\t\t\t\t<div class=\"form-group col-md-12\">\r\n\t\t\t\t\t\t\t\t<contact :validate=\"validate\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</form-box>\r\n\r\n\t\t\t\t<form-box v-if=\"isClient\">\r\n\t\t\t\t\t<template slot=\"header\">\r\n\t\t\t\t\t\tDados da empresa\r\n\t\t\t\t\t</template>\r\n\t\t\t\t\t<template slot=\"content\">\r\n\t\t\t\t\t\t<div class=\"form-row\">\r\n\t\t\t\t\t\t\t<div class=\"form-group col-md-12\">\r\n\t\t\t\t\t\t\t\t<create-company\r\n\t\t\t\t\t\t\t\t\t:isScuba=\"isScuba\"\r\n\t\t\t\t\t\t\t\t\t@crate-company-validation=\"data => (companyIsInvalid = data)\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</form-box>\r\n\r\n\t\t\t\t<div class=\"form-row actions\">\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\tclass=\"btn-custom primary\"\r\n\t\t\t\t\t\t:disabled=\"disableSave\"\r\n\t\t\t\t\t\t@click.stop.prevent=\"save()\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tCadastrar\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"back\">\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\t@click=\"back\"\r\n\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\tclass=\"btn-custom primary\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t<i class=\"fas fa-arrow-left\"></i>\r\n\t\t\t\t\t\tVOLTAR\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\r\n\t\t\t<!-- <modal v-if=\"showContact\" id=\"contact-modal\" @close=\"showContact = false\">\r\n\t\t\t\t<div slot=\"header\" class=\"header\">\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\t<h2>\r\n\t\t\t\t\t\t\t<i class=\"far fa-id-card\" />\r\n\t\t\t\t\t\t\tContato\r\n\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div slot=\"body\">\r\n\t\t\t\t\t<contact :validate=\"validate\" @close=\"showContact = false\" />\r\n\t\t\t\t</div>\r\n\t\t\t</modal> -->\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState, mapActions, mapGetters } from 'vuex'\r\nimport { users } from '@/services/users'\r\n// import Modal from '../../shared/Modal'\r\nimport FormBox from '../../shared/FormBox'\r\nimport Contact from './inc/contact/Contact.vue'\r\nimport CreateCompany from './inc/company/Create'\r\nimport clientValidation from '@/mixins/validations/client.js'\r\nimport notification from '@/mixins/notificationsMixin.js'\r\nimport { ToggleButton } from 'vue-js-toggle-button'\r\nimport removeFlagFromList from '@/helpers/removeFlagFromList'\r\n\r\nexport default {\r\n\tname: 'CreateUser',\r\n\tcomponents: {\r\n\t\tContact,\r\n\t\t// Modal,\r\n\t\tFormBox,\r\n\t\tCreateCompany,\r\n\t\tToggleButton\r\n\t},\r\n\tmixins: [clientValidation, notification],\r\n\tbeforeRouteEnter(to, from, next) {\r\n\t\tnext(vm => {\r\n\t\t\tvm.path = from.path\r\n\t\t})\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tvalidate: false,\r\n\t\t\tshowContact: false,\r\n\t\t\tsubmitted: true,\r\n\t\t\tloadingSubmit: true,\r\n\t\t\tisScuba: false,\r\n\t\t\tcompanyInvalid_: true\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapState({\r\n\t\t\tclient: state => state.clients.client,\r\n\t\t\tcompany: state => state.company.company,\r\n\t\t\tlevels: state => state.levels.levels\r\n\t\t}),\r\n\t\t...mapGetters(['contacts']),\r\n\t\tcompanyIsInvalid: {\r\n\t\t\tget() {\r\n\t\t\t\treturn this.companyInvalid_ && this.isScuba\r\n\t\t\t},\r\n\t\t\tset(value) {\r\n\t\t\t\tthis.companyInvalid_ = value\r\n\t\t\t}\r\n\t\t},\r\n\t\tname: {\r\n\t\t\tget() {\r\n\t\t\t\treturn this.client.name\r\n\t\t\t},\r\n\t\t\tset(value) {\r\n\t\t\t\tthis.setClientField({ value, field: 'name' })\r\n\t\t\t}\r\n\t\t},\r\n\t\temail: {\r\n\t\t\tget() {\r\n\t\t\t\treturn this.client.email\r\n\t\t\t},\r\n\t\t\tset(value) {\r\n\t\t\t\tthis.setClientField({ value, field: 'email' })\r\n\t\t\t}\r\n\t\t},\r\n\t\tlevel: {\r\n\t\t\tget() {\r\n\t\t\t\treturn this.client.level\r\n\t\t\t},\r\n\t\t\tset(value) {\r\n\t\t\t\tthis.setClientField({ value, field: 'level' })\r\n\t\t\t}\r\n\t\t},\r\n\t\tclientId: {\r\n\t\t\tget() {\r\n\t\t\t\treturn this.client.clientId\r\n\t\t\t}\r\n\t\t},\r\n\t\tdisableSave: {\r\n\t\t\tget() {\r\n\t\t\t\treturn (\r\n\t\t\t\t\tthis.$v.$error ||\r\n\t\t\t\t\t(!this.contacts.length && this.client.level === '2') ||\r\n\t\t\t\t\tthis.companyIsInvalid\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t},\r\n\t\tisClient: {\r\n\t\t\tget() {\r\n\t\t\t\treturn this.client.level === '2'\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tasync created() {\r\n\t\tif (!this.levels.length) await this.laodAllLevels()\r\n\t\tif (this.$route.params.id) {\r\n\t\t\tawait this.laodClientToEdit(this.$route.params.id)\r\n\t\t\tthis.isScuba = !!this.company.fcem\r\n\t\t}\r\n\t},\r\n\tdestroyed() {\r\n\t\tthis.resetClientState()\r\n\t\tthis.resetCompanyState()\r\n\t},\r\n\tmethods: {\r\n\t\tback(){\r\n\t\t\tthis.$router.back({redirect: '/usuarios'})\r\n\t\t},\r\n\t\t...mapActions([\r\n\t\t\t'setClientField',\r\n\t\t\t'laodAllLevels',\r\n\t\t\t'laodClientToEdit',\r\n\t\t\t'resetClientState',\r\n\t\t\t'resetCompanyState'\r\n\t\t]),\r\n\t\tasync save() {\r\n\t\t\tthis.submitted = true\r\n\t\t\tthis.loadingSubmit = true\r\n\t\t\tthis.$v.$touch()\r\n\t\t\tif (this.isClient) this.validate = !this.validate\r\n\t\t\tif (!this.$v.$error) {\r\n\t\t\t\tif (this.isClient && !this.isScuba) {\r\n\t\t\t\t\tthis.company.fcem = this.company.fcemExpiration = null\r\n\t\t\t\t}\r\n\t\t\t\tconst client = this.client\r\n\t\t\t\tclient.contacts = removeFlagFromList(this.contacts)\r\n\r\n\t\t\t\tif (this.$route.params.id) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tconst company = this.isScuba ? this.company : null\r\n\t\t\t\t\t\tconst resp = await users.update(client.id, {\r\n\t\t\t\t\t\t\tclient,\r\n\t\t\t\t\t\t\tcompany\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tthis.apiResponseNotification(200, resp)\r\n\t\t\t\t\t\tthis.$router.push({ name: 'usersHome' })\r\n\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\tthis.form.perfil = this.perfis.find(p => p.id === this.form.perfil)\r\n\t\t\t\t\t\tthis.loadingSubmit = false\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tconst client = this.client\r\n\t\t\t\t\t\tconst company = this.isClient ? this.company : null\r\n\t\t\t\t\t\tconst resp = await users.create({ client, company })\r\n\t\t\t\t\t\tthis.apiResponseNotification(201, resp)\r\n\t\t\t\t\t\tthis.$router.push({ name: 'usersHome' })\r\n\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\tthis.loadingSubmit = false\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.loadingSubmit = false\r\n\t\t}\r\n\r\n\t}\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n#crate-user-component-content {\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\t.back{\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 50px;\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tcolumn-gap: 10px;\r\n\t}\r\n\t.form-container {\r\n\t\t.form-group {\r\n\t\t\t&.swith-content {\r\n\t\t\t\tlabel {\r\n\t\t\t\t\t&:first-of-type {\r\n\t\t\t\t\t\tmin-width: 200px;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t&.button {\r\n\t\t\t\tpadding: 0;\r\n\t\t\t\tdisplay: inline-flex;\r\n\t\t\t\talign-items: flex-end;\r\n\t\t\t\t.button-container {\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\theight: 50px;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\tcolumn-gap: 10px;\r\n\t\t\t\t\tbutton {\r\n\t\t\t\t\t\tbackground-color: $btn-secondary-color;\r\n\t\t\t\t\t\tborder: none;\r\n\t\t\t\t\t\t&:hover {\r\n\t\t\t\t\t\t\tbackground-color: $btn-secondary-color-hover;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tspan {\r\n\t\t\t\t\t\ttext-transform: uppercase;\r\n\t\t\t\t\t\tfont-size: $font-size-small;\r\n\t\t\t\t\t\tfont-style: italic;\r\n\t\t\t\t\t\tcolor: $danger-color;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t.error-messages {\r\n\t\t\t\t\tspan {\r\n\t\t\t\t\t\tfont-size: $font-size-small;\r\n\t\t\t\t\t\tcolor: $danger-color;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t&::v-deep #contact-modal {\r\n\t\t\t.modal-container {\r\n\t\t\t\tmax-width: 40%;\r\n\t\t\t\t.buttons-container {\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tcolumn-gap: 11px;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n</style>\r\n\r\n<style lang=\"scss\" scoped></style>\r\n"]}]}