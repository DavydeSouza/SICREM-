{"remainingRequest":"D:\\Cbes\\SICREM\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Cbes\\SICREM\\src\\components\\views\\user\\clients\\List.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Cbes\\SICREM\\src\\components\\views\\user\\clients\\List.vue","mtime":1644950802659},{"path":"D:\\Cbes\\SICREM\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Cbes\\SICREM\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\Cbes\\SICREM\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Cbes\\SICREM\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBtYXBBY3Rpb25zLCBtYXBTdGF0ZSB9IGZyb20gJ3Z1ZXgnDQppbXBvcnQgZmlsdGVyc01peGluIGZyb20gJ0AvbWl4aW5zL2ZpbHRlcnNNaXhpbicNCmltcG9ydCBub3RpZmljYXRpb24gZnJvbSAnQC9taXhpbnMvbm90aWZpY2F0aW9uc01peGluLmpzJw0KaW1wb3J0IGF1dGhvcml6ZSBmcm9tICdAL21peGlucy9hdXRob3JpemVNaXhpbi5qcycNCmltcG9ydCBCb3hGaWx0ZXJzIGZyb20gJ0AvY29tcG9uZW50cy9zaGFyZWQvQm94RmlsdGVycy52dWUnDQppbXBvcnQgR2VuZXJpY1RhYmxlIGZyb20gJ0AvY29tcG9uZW50cy9zaGFyZWQvR2VuZXJpY1RhYmxlLnZ1ZScNCmltcG9ydCBJdGVtRWRpdCBmcm9tICdAL2NvbXBvbmVudHMvc2hhcmVkL0l0ZW1FZGl0LnZ1ZScNCmltcG9ydCBJdGVtUmVtb3ZlIGZyb20gJ0AvY29tcG9uZW50cy9zaGFyZWQvSXRlbVJlbW92ZS52dWUnDQppbXBvcnQgSXRlbUluYWN0aXZlIGZyb20gJ0AvY29tcG9uZW50cy9zaGFyZWQvSXRlbUluYWN0aXZlLnZ1ZScNCg0KZXhwb3J0IGRlZmF1bHQgew0KCW5hbWU6ICdDbGllbnRMaXN0JywNCgljb21wb25lbnRzOiB7IEJveEZpbHRlcnMsIEdlbmVyaWNUYWJsZSwgSXRlbUVkaXQsIEl0ZW1SZW1vdmUsIEl0ZW1JbmFjdGl2ZSB9LA0KCW1peGluczogW2ZpbHRlcnNNaXhpbiwgbm90aWZpY2F0aW9uLCBhdXRob3JpemVdLA0KDQoJZGF0YSgpIHsNCgkJcmV0dXJuIHsNCgkJCWhlYWRlcnM6IFsnTm9tZScsICdFLW1haWwnLCAnQ2xpZW50ZSBJRCcsICdTdGF0dXMnLCAnQcOnw7VlcyddLA0KCQkJdGV4dERlbGV0ZTogYA0KCQkJCUFvIHJlbW92ZXIgdW0gY2xpZW50ZSBvcyBjZXJ0aWZpY2Fkb3MvZW1iYXJjYcOnw7VlcyBhdHJlbGFkb3MgYW8gbWVzbW8gc2Vyw6NvIHJlbW92aWRvcw0KCQkJCW7Do28gaGF2ZW5kbyBwb3NzaWJpbGlkYWRlIGRlIHJlY3VwZXJhw6fDo28uDQoJCQkJQ29uZmlybWEgYSBvcGVyYcOnw6NvPw0KCQkJYCwNCgkJCXRleHRJbmFjdGl2YXRlOiBgDQoJCQkJQW8gZGVzYXRpdmFyIHVtIGNsaWVudGUgb3MgY2VydGlmaWNhZG9zIGF0cmVsYWRvcyBhbyBtZXNtbyBlIG8gc2V1IGFjZXNzbw0KCQkJCWFvIHNpc3RlbmEgc2Vyw6NvIGRlc2F0aXZhZG9zLg0KCQkJCUNvbmZpcm1hIGEgb3BlcmHDp8Ojbz8NCgkJCWAsDQoJCQl0ZXh0QWN0aXZhdGU6IGAgTyBjbGllbnRlIHNlcsOhIHJlLWF0aXZhZG8uIENvbmZpcm1hIGEgb3BlcmHDp8Ojbz9gLA0KCQkJZmlsdGVyczogew0KCQkJCWFjdGl2ZTogMSwNCgkJCQluYW1lOiB1bmRlZmluZWQNCgkJCX0sDQoJCQlyZXF1ZXN0UGFyYW1zOiB7DQoJCQkJcGFnZTogMSwNCgkJCQlzb3J0ZXI6ICduYW1lJywNCgkJCQlkaXJlY3Rpb246ICdhc2MnDQoJCQl9DQoJCX0NCgl9LA0KDQoJY29tcHV0ZWQ6IHsNCgkJLi4ubWFwU3RhdGUoew0KCQkJdG90YWxVc2Vyczogc3RhdGUgPT4gc3RhdGUuY2xpZW50cy50b3RhbCwNCgkJCWNsaWVudHM6IHN0YXRlID0+IHN0YXRlLmNsaWVudHMuY2xpZW50cw0KCQl9KQ0KCX0sDQoJbW91bnRlZCgpIHsNCgkJdGhpcy5sb2FkQ2xpZW50c18oKQ0KCX0sDQoJbWV0aG9kczogew0KCQkuLi5tYXBBY3Rpb25zKFsNCgkJCSdsb2FkQ2xpZW50cycsDQoJCQknZ2V0Q2xpZW50c0J5TmFtZScsDQoJCQknaW5hY3RpdmVDbGllbnRlJywNCgkJCSdyZW1vdmVDbGllbnRlJw0KCQldKSwNCgkJYXN5bmMgc2VhcmNoKCkgew0KCQkJYXdhaXQgdGhpcy5sb2FkQ2xpZW50c18oKQ0KCQkJdGhpcy4kcmVmc1sndGV4dCddLnZhbHVlID0gJycNCgkJfSwNCgkJZmlsdGVyZWRDZWxscyhvYmplY3QpIHsNCgkJCWNvbnN0IGluY2x1ZGUgPSBbJ2NsaWVudGlkJywgJ25hbWUnLCAnZW1haWwnXQ0KCQkJY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCkNCgkJCWNvbnN0IHJlc3VsdCA9IGtleXMuZmlsdGVyKGtleSA9PiB7DQoJCQkJcmV0dXJuIGluY2x1ZGUuaW5jbHVkZXMoa2V5KQ0KCQkJfSkNCgkJCXJldHVybiByZXN1bHQNCgkJfSwNCgkJbGV2ZWxOYW1lcyhsZXZlbCkgew0KCQkJY29uc3QgbmFtZXMgPSBbJ0FkbWluc3RyYWRvcicsICdDQkVTIFVzdcOhcmlvJywgJ0NsaWVudGUnXQ0KCQkJcmV0dXJuIG5hbWVzW2xldmVsXQ0KCQl9LA0KCQlhc3luYyBpbmFjdGl2ZShjbGllbnQpIHsNCgkJCWNvbnN0IHJlc3AgPSBhd2FpdCB0aGlzLmluYWN0aXZlQ2xpZW50ZShjbGllbnQpDQoJCQl0aGlzLmFwaVJlc3BvbnNlTm90aWZpY2F0aW9uKDIwMCwgcmVzcCkNCgkJfSwNCgkJcHJvbXB0VGV4dChhY3RpdmUpIHsNCgkJCXJldHVybiAhYWN0aXZlID8gdGhpcy50ZXh0QWN0aXZhdGUgOiB0aGlzLnRleHRJbmFjdGl2YXRlDQoJCX0sDQoJCWFzeW5jIGNoYW5nZWRQYWdlKHBhZ2UpIHsNCgkJCXRoaXMucmVxdWVzdFBhcmFtcy5wYWdlID0gcGFnZQ0KCQkJYXdhaXQgdGhpcy5sb2FkQ2xpZW50c18oKQ0KCQl9LA0KCQlhc3luYyBsb2FkQ2xpZW50c18oKSB7DQoJCQljb25zdCBwYXJhbXNfID0geyAuLi50aGlzLmZpbHRlcnMsIC4uLnRoaXMucmVxdWVzdFBhcmFtcyB9DQoJCQlhd2FpdCB0aGlzLmxvYWRDbGllbnRzKHRoaXMuc2FuYXRpemUocGFyYW1zXykpDQoJCX0NCgl9DQp9DQo="},{"version":3,"sources":["List.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"List.vue","sourceRoot":"src/components/views/user/clients","sourcesContent":["<template>\r\n\t<div id=\"user-component-content\" class=\"component-root\">\r\n\t\t<div class=\"content\">\r\n\t\t\t<div class=\"row\">\r\n\t\t\t\t<box-filters>\r\n\t\t\t\t\t<template #fields>\r\n\t\t\t\t\t\t<div class=\"search-section\">\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tref=\"text\"\r\n\t\t\t\t\t\t\t\tv-model=\"filters.name\"\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Filtro por nome\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<label class=\"label-search\" for=\"search\">\r\n\t\t\t\t\t\t\t\t<i class=\"fas fa-search\" />\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"actions\">\r\n\t\t\t\t\t\t\t<button class=\"btn-custom primary\" @click=\"search\">\r\n\t\t\t\t\t\t\t\tBUSCAR\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclass=\"btn-custom main-action\"\r\n\t\t\t\t\t\t\t\t@click=\"() => $router.push({ name: 'clientCreate' })\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tNOVO\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</box-filters>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class=\"row\">\r\n\t\t\t\t<generic-table\r\n\t\t\t\t\t:headers=\"headers\"\r\n\t\t\t\t\t:load-data=\"() => {}\"\r\n\t\t\t\t\t:query=\"$route.query\"\r\n\t\t\t\t\t:total-itens=\"totalUsers\"\r\n\t\t\t\t\t:visible=\"!!clients.length\"\r\n\t\t\t\t\t:pageSize=\"12\"\r\n\t\t\t\t\t@generic-table-paginate=\"data => changedPage(data)\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<template #rows>\r\n\t\t\t\t\t\t<tr v-for=\"(client, index) in clients.map(c => c)\" :key=\"index\">\r\n\t\t\t\t\t\t\t<td\r\n\t\t\t\t\t\t\t\tv-for=\"(prop, indexProp) in filteredCells(client)\"\r\n\t\t\t\t\t\t\t\t:key=\"indexProp\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<span v-if=\"prop === 'clientid'\">\r\n\t\t\t\t\t\t\t\t\t<label>{{ headers[index] }}:</label>\r\n\t\t\t\t\t\t\t\t\t{{ client[prop] || ' - ' }}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t<span v-else-if=\"prop === 'name'\" :title=\"client[prop]\">\r\n\t\t\t\t\t\t\t\t\t<label>{{ headers[indexProp] }}:</label>\r\n\t\t\t\t\t\t\t\t\t{{ client[prop] }}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t<span v-else-if=\"prop === 'email'\">\r\n\t\t\t\t\t\t\t\t\t<label>{{ headers[indexProp] }}:</label>\r\n\t\t\t\t\t\t\t\t\t{{ client[prop] }}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t<item-inactive\r\n\t\t\t\t\t\t\t\t\t:allow=\"true\"\r\n\t\t\t\t\t\t\t\t\t:active=\"client.active\"\r\n\t\t\t\t\t\t\t\t\t:text=\"promptText(client.active)\"\r\n\t\t\t\t\t\t\t\t\t:on-click=\"() => inactive(client)\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t<td class=\"actions\">\r\n\t\t\t\t\t\t\t\t<div class=\"actions-container\">\r\n\t\t\t\t\t\t\t\t\t<item-edit\r\n\t\t\t\t\t\t\t\t\t\t:router-name=\"'clientEdit'\"\r\n\t\t\t\t\t\t\t\t\t\t:params=\"{ id: client.clientid }\"\r\n\t\t\t\t\t\t\t\t\t\t:query=\"{}\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<item-remove\r\n\t\t\t\t\t\t\t\t\t\tv-if=\"isAdmin()\"\r\n\t\t\t\t\t\t\t\t\t\t:text=\"textDelete\"\r\n\t\t\t\t\t\t\t\t\t\t:on-click=\"() => removeCliente(client.id)\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</generic-table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions, mapState } from 'vuex'\r\nimport filtersMixin from '@/mixins/filtersMixin'\r\nimport notification from '@/mixins/notificationsMixin.js'\r\nimport authorize from '@/mixins/authorizeMixin.js'\r\nimport BoxFilters from '@/components/shared/BoxFilters.vue'\r\nimport GenericTable from '@/components/shared/GenericTable.vue'\r\nimport ItemEdit from '@/components/shared/ItemEdit.vue'\r\nimport ItemRemove from '@/components/shared/ItemRemove.vue'\r\nimport ItemInactive from '@/components/shared/ItemInactive.vue'\r\n\r\nexport default {\r\n\tname: 'ClientList',\r\n\tcomponents: { BoxFilters, GenericTable, ItemEdit, ItemRemove, ItemInactive },\r\n\tmixins: [filtersMixin, notification, authorize],\r\n\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\theaders: ['Nome', 'E-mail', 'Cliente ID', 'Status', 'Ações'],\r\n\t\t\ttextDelete: `\r\n\t\t\t\tAo remover um cliente os certificados/embarcações atrelados ao mesmo serão removidos\r\n\t\t\t\tnão havendo possibilidade de recuperação.\r\n\t\t\t\tConfirma a operação?\r\n\t\t\t`,\r\n\t\t\ttextInactivate: `\r\n\t\t\t\tAo desativar um cliente os certificados atrelados ao mesmo e o seu acesso\r\n\t\t\t\tao sistena serão desativados.\r\n\t\t\t\tConfirma a operação?\r\n\t\t\t`,\r\n\t\t\ttextActivate: ` O cliente será re-ativado. Confirma a operação?`,\r\n\t\t\tfilters: {\r\n\t\t\t\tactive: 1,\r\n\t\t\t\tname: undefined\r\n\t\t\t},\r\n\t\t\trequestParams: {\r\n\t\t\t\tpage: 1,\r\n\t\t\t\tsorter: 'name',\r\n\t\t\t\tdirection: 'asc'\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tcomputed: {\r\n\t\t...mapState({\r\n\t\t\ttotalUsers: state => state.clients.total,\r\n\t\t\tclients: state => state.clients.clients\r\n\t\t})\r\n\t},\r\n\tmounted() {\r\n\t\tthis.loadClients_()\r\n\t},\r\n\tmethods: {\r\n\t\t...mapActions([\r\n\t\t\t'loadClients',\r\n\t\t\t'getClientsByName',\r\n\t\t\t'inactiveCliente',\r\n\t\t\t'removeCliente'\r\n\t\t]),\r\n\t\tasync search() {\r\n\t\t\tawait this.loadClients_()\r\n\t\t\tthis.$refs['text'].value = ''\r\n\t\t},\r\n\t\tfilteredCells(object) {\r\n\t\t\tconst include = ['clientid', 'name', 'email']\r\n\t\t\tconst keys = Object.keys(object)\r\n\t\t\tconst result = keys.filter(key => {\r\n\t\t\t\treturn include.includes(key)\r\n\t\t\t})\r\n\t\t\treturn result\r\n\t\t},\r\n\t\tlevelNames(level) {\r\n\t\t\tconst names = ['Adminstrador', 'CBES Usuário', 'Cliente']\r\n\t\t\treturn names[level]\r\n\t\t},\r\n\t\tasync inactive(client) {\r\n\t\t\tconst resp = await this.inactiveCliente(client)\r\n\t\t\tthis.apiResponseNotification(200, resp)\r\n\t\t},\r\n\t\tpromptText(active) {\r\n\t\t\treturn !active ? this.textActivate : this.textInactivate\r\n\t\t},\r\n\t\tasync changedPage(page) {\r\n\t\t\tthis.requestParams.page = page\r\n\t\t\tawait this.loadClients_()\r\n\t\t},\r\n\t\tasync loadClients_() {\r\n\t\t\tconst params_ = { ...this.filters, ...this.requestParams }\r\n\t\t\tawait this.loadClients(this.sanatize(params_))\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n#user-component-content {\r\n\tbackground-color: transparent;\r\n}\r\n</style>\r\n"]}]}